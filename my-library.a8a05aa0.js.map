{"mappings":"AAAA,MAAMA,EAAO,CACTC,QAASC,SAASC,cAAc,mBAChCC,MAAOF,SAASC,cAAc,kBAGlCH,EAAKC,QAAQI,iBAAiB,SAGvB,WACCL,EAAKI,MAAME,UAAUC,SAAS,0BAC9BP,EAAKI,MAAME,UAAUE,OAAO,yBAC5BR,EAAKC,QAAQK,UAAUG,IAAI,0BAE3BT,EAAKC,QAAQK,UAAUG,IAAI,wB,IAPnCT,EAAKI,MAAMC,iBAAiB,SAYrB,WACCL,EAAKC,QAAQK,UAAUC,SAAS,0BAChCP,EAAKC,QAAQK,UAAUE,OAAO,yBAC9BR,EAAKI,MAAME,UAAUG,IAAI,0BAEzBT,EAAKI,MAAME,UAAUG,IAAI,wB,ICvBjC,MAAMC,EAAaR,SAASS,iBAAiB,eACvCC,EAAOV,SAASC,cAAc,QAE9BU,EAAcX,SAASS,iBAAiB,iBAE9C,IAAIG,GAAS,EAIb,GAAIJ,EAAWK,OAAS,EACpB,IAAK,IAAIC,EAAQ,EAAGA,EAAQN,EAAWK,OAAQC,IAAS,CACpD,MAAMC,EAAYP,EAAWM,GAC7BC,EAAUZ,iBAAiB,SAAS,SAAUa,GAC1C,MAAMC,EAAYF,EAAUG,aAAa,QAAQC,QAAQ,IAAK,IAE9DC,EADoBpB,SAASqB,eAAeJ,IAE5CD,EAAEM,gB,IAKd,MAAMC,EAAiBvB,SAASS,iBAAiB,gBACjD,GAAIc,EAAeV,OAAS,EACxB,IAAK,IAAIW,EAAQ,EAAGA,EAAQD,EAAeV,OAAQW,IAAS,CACxD,MAAMC,EAAKF,EAAeC,GAC1BC,EAAGtB,iBAAiB,SAAS,SAAUa,GAEsBU,EAA9CD,EAAGE,QAAQ,WACtBX,EAAEM,gB,IAKd,SAASF,EAAUQ,GACf,GAAIA,GAAehB,EAAQ,CACvB,MAAMiB,EAAc7B,SAASC,cAAc,eACvC4B,EACAH,EAAWG,GAAa,GAuBpC,WACI,MAAMC,EACJC,OAAOC,WACPhC,SAASC,cAAc,QAAQgC,YAC7B,KACJ,GAAItB,EAAYE,OAAQ,EACtB,IAAK,IAAIqB,EAAQ,EAAGA,EAAQvB,EAAYE,OAAQqB,IAAS,CAC5CvB,EAAYuB,GACpBC,MAAMC,aAAeN,C,CAG5BpB,EAAKyB,MAAMC,aAAeN,EAC1BpB,EAAKN,UAAUG,IAAI,QAE6BK,GAAvC,EACTyB,YAAW,WACPzB,GAAS,C,GArED,I,CAgCJ0B,GAEJV,EAAYxB,UAAUG,IAAI,QAC1BqB,EAAYzB,iBAAiB,SAAS,SAAUa,GAEvCA,EAAEuB,OAAOZ,QAAQ,oBAClBD,EAAWV,EAAEuB,OAAOZ,QAAQ,U,KAM5C,SAASD,EAAWG,EAAaW,GAAW,GACpC5B,IACAiB,EAAYzB,UAAUE,OAAO,QACzBkC,IA2BRH,YAAW,WACP,GAAI1B,EAAYE,OAAS,EACvB,IAAK,IAAI4B,EAAQ,EAAGA,EAAQ9B,EAAYE,OAAQ4B,IACnC9B,EAAY8B,GACpBN,MAAMC,aAAe,MAG5B1B,EAAKyB,MAAMC,aAAe,MAC1B1B,EAAKN,UAAUE,OAAO,O,GAlFd,KAqFZM,GAAS,EACTyB,YAAW,WACPzB,GAAS,C,GAvFD,M,CA6FhBZ,SAASG,iBAAiB,WAAW,SAAUa,GAC3C,GAAc,WAAVA,EAAE0B,IAAkB,CAEpBhB,EADoB1B,SAASC,cAAc,e","sources":["src/js/header-library.js","src/js/modal-footer.js"],"sourcesContent":["const refs = {\n    watched: document.querySelector('.js-btn-watched'),\n    queue: document.querySelector('.js-btn-queue'),\n};\n\nrefs.watched.addEventListener('click', currentWatchedPage);\nrefs.queue.addEventListener('click', currentQueuePage);\n\nexport function currentWatchedPage() {\n    if (refs.queue.classList.contains('library__btn--current')) {\n        refs.queue.classList.remove('library__btn--current');\n        refs.watched.classList.add('library__btn--current');\n    } else {\n        refs.watched.classList.add('library__btn--current');\n    }\n};\n\n\nexport function currentQueuePage() {\n    if (refs.watched.classList.contains('library__btn--current')) {\n        refs.watched.classList.remove('library__btn--current');\n        refs.queue.classList.add('library__btn--current');\n    } else {\n        refs.queue.classList.add('library__btn--current');\n    }\n\n};","const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\n//необходимо добавить класс lock-padding для всех фиксированных элементов\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n    for (let index = 0; index < popupLinks.length; index++) {\n        const popupLink = popupLinks[index];\n        popupLink.addEventListener('click', function (e) {\n            const popupName = popupLink.getAttribute('href').replace('#', '');\n            const curentPopup = document.getElementById(popupName);\n            popupOpen(curentPopup);\n            e.preventDefault();\n        })\n    }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n    for (let index = 0; index < popupCloseIcon.length; index++) {\n        const el = popupCloseIcon[index];\n        el.addEventListener('click', function (e) {\n            //отправляем объект который является ближайшем родителем с классом popup\n            popupClose(el.closest('.popup'));\n            e.preventDefault();\n        })\n    }\n}\n\nfunction popupOpen(curentPopup) {\n    if (curentPopup && unlock) {\n        const popupActive = document.querySelector('.popup.open');\n        if (popupActive) {\n            popupClose(popupActive, false);\n        } else {\n            bodyLock();\n        }\n        curentPopup.classList.add('open');\n        curentPopup.addEventListener('click', function (e) {\n            //идет проверка есть ли класс popup у родителя\n            if (!e.target.closest('.popup__content')) {\n                popupClose(e.target.closest('.popup'));\n            }\n        })\n    }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n    if (unlock) {\n        popupActive.classList.remove('open');\n        if (doUnlock) {\n            bodyUnLock();\n        }\n    }\n}\n\nfunction bodyLock() {\n    const lockPaddingValue =\n      window.innerWidth -\n      document.querySelector('body').offsetWidth +\n        'px';\n    if (lockPadding.length >0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = lockPaddingValue;\n      }\n    }\n    body.style.paddingRight = lockPaddingValue;\n    body.classList.add('lock');\n    //блочим на период анимации css что б не было повторных нажатий\n    unlock = false;\n    setTimeout(function () {\n        unlock = true;\n    }, timeout); \n}\n\nfunction bodyUnLock() {\n    setTimeout(function () {\n        if (lockPadding.length > 0) {\n          for (let index = 0; index < lockPadding.length; index++) {\n            const el = lockPadding[index];\n            el.style.paddingRight = '0px';\n          }\n        }\n        body.style.paddingRight = '0px';\n        body.classList.remove('lock');\n    }, timeout);\n\n    unlock = false;\n    setTimeout(function () {\n        unlock = true;\n    }, timeout);\n}\n\n// Add close modal push Escape\n\ndocument.addEventListener('keydown', function (e) {\n    if (e.key === 'Escape') {\n        const popupActive = document.querySelector('.popup.open');\n        popupClose(popupActive);\n    }\n})\n\n\n    // Добавляем полифилы для closest и matches\n\n//     (function () {\n//         //Проверяем\n//         if (!Element.prototype.closest) {\n//             //Реализуем\n//             Element.prototype.closest = function (css) {\n//                 var node = this;\n//                 while (node) {\n//                     if (node.matches(css)) return node;\n//                     else node = node.parentElement;\n//                 }\n//                 return null;\n//             }\n//         }\n//     })();\n\n// (function () {\n//     if (!Element.prototype.matches) {\n//         Element.prototype.matches = Element.prototype.matchesSelector ||\n//             Element.prototype.webkitMatchesSelector ||\n//             Element.prototype.mozMatchesSelector ||\n//             Element.prototype.msMatchesSelector;\n//     }\n// })();"],"names":["$aa1852bce7d92573$var$refs","watched","document","querySelector","queue","addEventListener","classList","contains","remove","add","$8985e5ea97c458df$var$popupLinks","querySelectorAll","$8985e5ea97c458df$var$body","$8985e5ea97c458df$var$lockPadding","$8985e5ea97c458df$var$unlock","length","index","popupLink","e","popupName","getAttribute","replace","$8985e5ea97c458df$var$popupOpen","getElementById","preventDefault","$8985e5ea97c458df$var$popupCloseIcon","index1","el","$8985e5ea97c458df$var$popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","index2","style","paddingRight","setTimeout","$8985e5ea97c458df$var$bodyLock","target","doUnlock","index3","key"],"version":3,"file":"my-library.a8a05aa0.js.map"}