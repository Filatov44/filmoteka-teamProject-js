!function(){var e={watched:document.querySelector(".js-btn-watched"),queue:document.querySelector(".js-btn-queue")};e.watched.addEventListener("click",(function(){e.queue.classList.contains("library__btn--current")?(e.queue.classList.remove("library__btn--current"),e.watched.classList.add("library__btn--current")):e.watched.classList.add("library__btn--current")})),e.queue.addEventListener("click",(function(){e.watched.classList.contains("library__btn--current")?(e.watched.classList.remove("library__btn--current"),e.queue.classList.add("library__btn--current")):e.queue.classList.add("library__btn--current")}));var t=function(e){var t=c[e];t.addEventListener("click",(function(e){var n=t.getAttribute("href").replace("#","");!function(e){if(e&&i){var t=document.querySelector(".popup.open");t?d(t,!1):function(){var e=window.innerWidth-document.querySelector("body").offsetWidth+"px";if(o.length>0)for(var t=0;t<o.length;t++){o[t].style.paddingRight=e}r.style.paddingRight=e,r.classList.add("lock"),i=!1,setTimeout((function(){i=!0}),u)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||d(e.target.closest(".popup"))}))}}(document.getElementById(n)),e.preventDefault()}))},n=function(e){var t=l[e];t.addEventListener("click",(function(e){d(t.closest(".popup")),e.preventDefault()}))},c=document.querySelectorAll(".popup-link"),r=document.querySelector("body"),o=document.querySelectorAll(".lock-padding"),i=!0,u=800;if(c.length>0)for(var a=0;a<c.length;a++)t(a);var l=document.querySelectorAll(".close-popup");if(l.length>0)for(var s=0;s<l.length;s++)n(s);function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i&&(e.classList.remove("open"),t&&p())}function p(){setTimeout((function(){if(o.length>0)for(var e=0;e<o.length;e++){o[e].style.paddingRight="0px"}r.style.paddingRight="0px",r.classList.remove("lock")}),u),i=!1,setTimeout((function(){i=!0}),u)}document.addEventListener("keydown",(function(e){"Escape"===e.key&&d(document.querySelector(".popup.open"))}))}();
//# sourceMappingURL=my-library.97252657.js.map
