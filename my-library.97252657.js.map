{"mappings":"YAAA,IAAMA,EAAO,CACTC,QAASC,SAASC,cAAc,mBAChCC,MAAOF,SAASC,cAAc,kBAGlCH,EAAKC,QAAQI,iBAAiB,SAGvB,WACCL,EAAKI,MAAME,UAAUC,SAAS,0BAC9BP,EAAKI,MAAME,UAAUE,OAAO,yBAC5BR,EAAKC,QAAQK,UAAUG,IAAI,0BAE3BT,EAAKC,QAAQK,UAAUG,IAAI,wB,IAPnCT,EAAKI,MAAMC,iBAAiB,SAYrB,WACCL,EAAKC,QAAQK,UAAUC,SAAS,0BAChCP,EAAKC,QAAQK,UAAUE,OAAO,yBAC9BR,EAAKI,MAAME,UAAUG,IAAI,0BAEzBT,EAAKI,MAAME,UAAUG,IAAI,wB,ICvBjC,IAAAC,EAAA,SAAAC,GAWQ,IAAMC,EAAYC,EAAWF,GAC7BC,EAAUP,iBAAiB,SAAS,SAAUS,GAC1C,IAAMC,EAAYH,EAAUI,aAAa,QAAQC,QAAQ,IAAK,KAoB1E,SAAmBC,GACf,GAAIA,GAAeC,EAAQ,CACvB,IAAMC,EAAclB,SAASC,cAAc,eACvCiB,EACAC,EAAWD,GAAa,GAuBpC,WACI,IAAME,EACJC,OAAOC,WACPtB,SAASC,cAAc,QAAQsB,YAC7B,KACJ,GAAIC,EAAYC,OAAQ,EACtB,IAAK,IAAIC,EAAQ,EAAGA,EAAQF,EAAYC,OAAQC,IAAS,CAC5CF,EAAYE,GACpBC,MAAMC,aAAeR,C,CAG5BS,EAAKF,MAAMC,aAAeR,EAC1BS,EAAKzB,UAAUG,IAAI,QAE6BU,GAAvC,EACTa,YAAW,WACPb,GAAS,C,GACVc,E,CAtCKC,GAEJhB,EAAYZ,UAAUG,IAAI,QAC1BS,EAAYb,iBAAiB,SAAS,SAAUS,GAEvCA,EAAEqB,OAAOC,QAAQ,oBAClBf,EAAWP,EAAEqB,OAAOC,QAAQ,U,KA9BhCC,CADoBnC,SAASoC,eAAevB,IAE5CD,EAAEyB,gB,KAETC,EAAA,SAAAC,GAMG,IAAMC,EAAKC,EAAeF,GAC1BC,EAAGrC,iBAAiB,SAAS,SAAUS,GAEsBO,EAA9CqB,EAAGN,QAAQ,WACtBtB,EAAEyB,gB,KA5BR1B,EAAaX,SAAS0C,iBAAiB,eACvCb,EAAO7B,SAASC,cAAc,QAE9BuB,EAAcxB,SAAS0C,iBAAiB,iBAE1CzB,GAAS,EAEPc,EAAU,IAEhB,GAAIpB,EAAWc,OAAS,EACpB,IAAK,IAAIkB,EAAQ,EAAGA,EAAQhC,EAAWc,OAAQkB,IAAOnC,EAAAmC,GAW1D,IAAMF,EAAiBzC,SAAS0C,iBAAiB,gBACjD,GAAID,EAAehB,OAAS,EACxB,IAAK,IAAImB,EAAQ,EAAGA,EAAQH,EAAehB,OAAQmB,IAAON,EAAAM,GA4B9D,SAASzB,EAAWD,G,IAAa2B,IAAAC,UAAArB,OAAA,YAAAqB,UAAA,KAAeA,UAAA,GACxC7B,IACAC,EAAYd,UAAUE,OAAO,QACzBuC,GACAE,I,CAyBZ,SAASA,IACLjB,YAAW,WACP,GAAIN,EAAYC,OAAS,EACvB,IAAK,IAAIuB,EAAQ,EAAGA,EAAQxB,EAAYC,OAAQuB,IAAS,CAC5CxB,EAAYwB,GACpBrB,MAAMC,aAAe,K,CAG5BC,EAAKF,MAAMC,aAAe,MAC1BC,EAAKzB,UAAUE,OAAO,O,GACvByB,GAEHd,GAAS,EACTa,YAAW,WACPb,GAAS,C,GACVc,E,CAKP/B,SAASG,iBAAiB,WAAW,SAAUS,GAC7B,WAAVA,EAAEqC,KAEF9B,EADoBnB,SAASC,cAAc,e","sources":["src/js/header-library.js","src/js/modal-footer.js"],"sourcesContent":["const refs = {\n    watched: document.querySelector('.js-btn-watched'),\n    queue: document.querySelector('.js-btn-queue'),\n};\n\nrefs.watched.addEventListener('click', currentWatchedPage);\nrefs.queue.addEventListener('click', currentQueuePage);\n\nexport function currentWatchedPage() {\n    if (refs.queue.classList.contains('library__btn--current')) {\n        refs.queue.classList.remove('library__btn--current');\n        refs.watched.classList.add('library__btn--current');\n    } else {\n        refs.watched.classList.add('library__btn--current');\n    }\n};\n\n\nexport function currentQueuePage() {\n    if (refs.watched.classList.contains('library__btn--current')) {\n        refs.watched.classList.remove('library__btn--current');\n        refs.queue.classList.add('library__btn--current');\n    } else {\n        refs.queue.classList.add('library__btn--current');\n    }\n\n};","const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\n//необходимо добавить класс lock-padding для всех фиксированных элементов\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n    for (let index = 0; index < popupLinks.length; index++) {\n        const popupLink = popupLinks[index];\n        popupLink.addEventListener('click', function (e) {\n            const popupName = popupLink.getAttribute('href').replace('#', '');\n            const curentPopup = document.getElementById(popupName);\n            popupOpen(curentPopup);\n            e.preventDefault();\n        })\n    }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n    for (let index = 0; index < popupCloseIcon.length; index++) {\n        const el = popupCloseIcon[index];\n        el.addEventListener('click', function (e) {\n            //отправляем объект который является ближайшем родителем с классом popup\n            popupClose(el.closest('.popup'));\n            e.preventDefault();\n        })\n    }\n}\n\nfunction popupOpen(curentPopup) {\n    if (curentPopup && unlock) {\n        const popupActive = document.querySelector('.popup.open');\n        if (popupActive) {\n            popupClose(popupActive, false);\n        } else {\n            bodyLock();\n        }\n        curentPopup.classList.add('open');\n        curentPopup.addEventListener('click', function (e) {\n            //идет проверка есть ли класс popup у родителя\n            if (!e.target.closest('.popup__content')) {\n                popupClose(e.target.closest('.popup'));\n            }\n        })\n    }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n    if (unlock) {\n        popupActive.classList.remove('open');\n        if (doUnlock) {\n            bodyUnLock();\n        }\n    }\n}\n\nfunction bodyLock() {\n    const lockPaddingValue =\n      window.innerWidth -\n      document.querySelector('body').offsetWidth +\n        'px';\n    if (lockPadding.length >0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = lockPaddingValue;\n      }\n    }\n    body.style.paddingRight = lockPaddingValue;\n    body.classList.add('lock');\n    //блочим на период анимации css что б не было повторных нажатий\n    unlock = false;\n    setTimeout(function () {\n        unlock = true;\n    }, timeout); \n}\n\nfunction bodyUnLock() {\n    setTimeout(function () {\n        if (lockPadding.length > 0) {\n          for (let index = 0; index < lockPadding.length; index++) {\n            const el = lockPadding[index];\n            el.style.paddingRight = '0px';\n          }\n        }\n        body.style.paddingRight = '0px';\n        body.classList.remove('lock');\n    }, timeout);\n\n    unlock = false;\n    setTimeout(function () {\n        unlock = true;\n    }, timeout);\n}\n\n// Add close modal push Escape\n\ndocument.addEventListener('keydown', function (e) {\n    if (e.key === 'Escape') {\n        const popupActive = document.querySelector('.popup.open');\n        popupClose(popupActive);\n    }\n})\n\n\n    // Добавляем полифилы для closest и matches\n\n//     (function () {\n//         //Проверяем\n//         if (!Element.prototype.closest) {\n//             //Реализуем\n//             Element.prototype.closest = function (css) {\n//                 var node = this;\n//                 while (node) {\n//                     if (node.matches(css)) return node;\n//                     else node = node.parentElement;\n//                 }\n//                 return null;\n//             }\n//         }\n//     })();\n\n// (function () {\n//     if (!Element.prototype.matches) {\n//         Element.prototype.matches = Element.prototype.matchesSelector ||\n//             Element.prototype.webkitMatchesSelector ||\n//             Element.prototype.mozMatchesSelector ||\n//             Element.prototype.msMatchesSelector;\n//     }\n// })();"],"names":["$cb53717e68f10b0d$var$refs","watched","document","querySelector","queue","addEventListener","classList","contains","remove","add","$45a9282dbc930ad1$var$_loop","index","popupLink","$45a9282dbc930ad1$var$popupLinks","e","popupName","getAttribute","replace","curentPopup","$45a9282dbc930ad1$var$unlock","popupActive","$45a9282dbc930ad1$var$popupClose","lockPaddingValue","window","innerWidth","offsetWidth","$45a9282dbc930ad1$var$lockPadding","length","index2","style","paddingRight","$45a9282dbc930ad1$var$body","setTimeout","$45a9282dbc930ad1$var$timeout","$45a9282dbc930ad1$var$bodyLock","target","closest","$45a9282dbc930ad1$var$popupOpen","getElementById","preventDefault","$45a9282dbc930ad1$var$_loop1","index1","el","$45a9282dbc930ad1$var$popupCloseIcon","querySelectorAll","$45a9282dbc930ad1$var$index","$45a9282dbc930ad1$var$index1","doUnlock","arguments","$45a9282dbc930ad1$var$bodyUnLock","index3","key"],"version":3,"file":"my-library.97252657.js.map"}